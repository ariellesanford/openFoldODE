EVOFORMER ODE MEMORY OPTIMIZATION REPORT
========================================

Configuration Settings:
  CPU_ONLY: false
  TEST_PROTEIN: all
  USE_FAST_ODE: false

System Information:
  CUDA Available: True
  GPU: Quadro P4000
  CUDA Version: 12.1
  PyTorch Version: 2.1.2


============================================================
CONFIGURATION TEST SUMMARY
============================================================

Name                      Status     Memory (MB)  Time (ms)    Loss      
--------------------------------------------------------------------------------
True Baseline (Original   SUCCESS    6989.94      2897.62      12.7103   
AMP Only                  SUCCESS    6608.66      3766.54      16.5824   
Checkpoint Only           SUCCESS    7321.61      3609.30      12.7115   
Memory Optimized Baselin  SUCCESS    6920.46      3989.52      12.7702   
Speed-Optimized           SUCCESS    2666.84      3752.11      17.1881   
Balanced Speed-Quality    SUCCESS    7104.14      5114.01      12.7402   

============================================================
BEST CONFIGURATIONS
============================================================

üèÜ Best Memory Efficiency:
   Name: Speed-Optimized
   Memory: 2666.84 MB
   Time: 3752.11 ms
   Loss: 17.1881

üèÜ Best Speed:
   Name: True Baseline (Original values, no optimizations)
   Memory: 6989.94 MB
   Time: 2897.62 ms
   Loss: 12.7103

üèÜ Best Loss Performance:
   Name: True Baseline (Original values, no optimizations)
   Memory: 6989.94 MB
   Time: 2897.62 ms
   Loss: 12.7103

üèÜ Best Balance (Memory + Speed):
   Name: Speed-Optimized
   Memory: 2666.84 MB
   Time: 3752.11 ms
   Loss: 17.1881

============================================================

Detailed Configuration Results:
----------------------------------------

Configuration 1: True Baseline (Original values, no optimizations)
  Status: SUCCESS
  Settings:
    memory_split_size: 128
    reduced_cluster_size: 64
    reduced_hidden_dim: 64
    num_time_points: 25
    batch_size: 1
    integrator: rk4
    gradient_accumulation: 1
    chunk_size: 0
    enabled flags: monitor_memory, test-single-step
    disabled flags: use_amp, use_checkpoint, reduced_precision_integration, clean_memory, cpu-only
  Results:
    Loss: 12.710346
    Max Memory: 6989.94 MB
    Time: 2897.62 ms

Configuration 2: AMP Only
  Status: SUCCESS
  Settings:
    memory_split_size: 128
    reduced_cluster_size: 64
    reduced_hidden_dim: 64
    num_time_points: 25
    batch_size: 1
    integrator: rk4
    gradient_accumulation: 1
    chunk_size: 0
    enabled flags: use_amp, monitor_memory, test-single-step
    disabled flags: use_checkpoint, reduced_precision_integration, clean_memory, cpu-only
  Results:
    Loss: 16.582402
    Max Memory: 6608.66 MB
    Time: 3766.54 ms

Configuration 3: Checkpoint Only
  Status: SUCCESS
  Settings:
    memory_split_size: 128
    reduced_cluster_size: 64
    reduced_hidden_dim: 64
    num_time_points: 25
    batch_size: 1
    integrator: rk4
    gradient_accumulation: 1
    chunk_size: 0
    enabled flags: use_checkpoint, monitor_memory, test-single-step
    disabled flags: use_amp, reduced_precision_integration, clean_memory, cpu-only
  Results:
    Loss: 12.711507
    Max Memory: 7321.61 MB
    Time: 3609.30 ms

Configuration 4: Memory Optimized Baseline
  Status: SUCCESS
  Settings:
    memory_split_size: 128
    reduced_cluster_size: 96
    reduced_hidden_dim: 96
    num_time_points: 25
    batch_size: 1
    integrator: rk4
    gradient_accumulation: 1
    chunk_size: 0
    enabled flags: use_amp, use_checkpoint, monitor_memory, test-single-step
    disabled flags: reduced_precision_integration, clean_memory, cpu-only
  Results:
    Loss: 12.770223
    Max Memory: 6920.46 MB
    Time: 3989.52 ms

Configuration 5: Speed-Optimized
  Status: SUCCESS
  Settings:
    memory_split_size: 128
    reduced_cluster_size: 64
    reduced_hidden_dim: 64
    num_time_points: 15
    batch_size: 1
    integrator: rk4
    gradient_accumulation: 1
    chunk_size: 0
    enabled flags: use_amp, use_checkpoint, reduced_precision_integration, monitor_memory, test-single-step, use_fast_ode
    disabled flags: clean_memory, cpu-only
  Results:
    Loss: 17.188050
    Max Memory: 2666.84 MB
    Time: 3752.11 ms

Configuration 6: Balanced Speed-Quality
  Status: SUCCESS
  Settings:
    memory_split_size: 128
    reduced_cluster_size: 80
    reduced_hidden_dim: 80
    num_time_points: 20
    batch_size: 1
    integrator: rk4
    gradient_accumulation: 1
    chunk_size: 5
    enabled flags: use_amp, use_checkpoint, monitor_memory, test-single-step
    disabled flags: reduced_precision_integration, clean_memory, cpu-only
  Results:
    Loss: 12.740166
    Max Memory: 7104.14 MB
    Time: 5114.01 ms

========================================
Report generated at: 2025-05-28 16:16:07
