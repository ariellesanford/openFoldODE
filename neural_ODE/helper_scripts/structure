#!/bin/bash

echo "ğŸ” Examining the save_intermediates logic in run_evoformer_init.py..."

SCRIPT_PATH="/home/visitor/PycharmProjects/openFold/evoformer_init/run_evoformer_init.py"

echo "ğŸ“„ Looking for save_intermediates related code:"
grep -n -A 5 -B 5 "save_intermediates" "$SCRIPT_PATH"

echo -e "\nğŸ“„ Looking for save_dir related code:"
grep -n -A 5 -B 5 "save_dir" "$SCRIPT_PATH"

echo -e "\nğŸ“„ Looking for where blocks might be saved:"
grep -n -A 3 -B 3 "m_block\|z_block" "$SCRIPT_PATH"

echo -e "\nğŸ“„ Looking for run_model function call:"
grep -n -A 10 -B 5 "run_model" "$SCRIPT_PATH"

echo -e "\nğŸ“„ Looking for recycle related code:"
grep -n -A 3 -B 3 "recycle" "$SCRIPT_PATH"